---
layout: post
title: 원격 데스크톱 노트북 개발- 문서편
author: piorosen
categories: [Blogging, Develop]
tags: [rfb, vnc, super-sampling, npu, gpu, accelerate, cloud, desktop, tinker-edge-r, rpi4b]
hide_title: false
---

# 과제의 목적 및 필요성
공공기관이나 기업에서 서버 및 컴퓨터를 구매한 경우 최소 8년 이상 운용하면서 노후화가 쉽게 발생한다. 노후화에 따라 운영효율이 저하되고 안정적인 업무를 수행이 어렵다. 이로 인해 온라인 협업 솔루션을 통해 디지털 전환과 클라우드 도입이 추진되고 있다.
업무의 공간이 오프라인에서 온라인으로, 고정 좌석제에서 자율 좌석제로 전환되고 있다. 따라서 작업 환경과 시간에 따른 컴퓨터 성능 저화와 노후화에 대한 문제 해결이 필요하다. 신원확인, 협업, 노후화 등의 문제를  해결하기 위해 경량화한 노트북과 클라우드 서비스와 결합한 “클라우드 노트북”을 개발하였다.

# 개념 및 상세설계
클라우드 노트북은 기존 방식과 다르게 사용자 단말기에서 컴퓨팅 자원이 중심이 아닌 서버 중심의 컴퓨팅 환경을 구축한 기술 및 제품이다. 서버 중심의 환경을 제공하기 위해 사용자의 단말기와 서비스를 제공하는 클라우드 서버가 필요하다. 사용자 단말기에서 LTE 라우터를 통해 서버와 인터넷 통신하여 서비스를 제공한다.

## 클라우드 서버 및 서비스 제공자(이하. 서버)
서버는 고정된 자원을 제공하는 것이 아닌 무수히 많은 사용자의 요구되는 사양을 제공해야 하며 사용자 인증 서버가 필요하다. 따라서 가상 컴퓨터 환경을 제공하기 위해 가상화 기술인 쿠버네티스와 컨테이너를 활용하였다.
  사용자의 단말기에서 서버가 생성한 가상 컴퓨터를 접근하기 위해 원격 제어 소프트웨어와 인터넷 통신을 압축하는 기술 및 소프트웨어가 필요하다. 가상 컴퓨터는 오픈소스 기반이며 수정이 용이한 Linux를 기반한다. 또한 사용자에게 그래픽 환경(이하. GUI)을 제공하기 위해 X11 윈도우 시스템과 인터넷 통신비용을 최적화하기 위해 x264와 RFB 프로토콜을 사용한다.

## 클라우드 노트북의 서비스 이용 고객(이하. 사용자)
  사용자의 단말기는 서버간 통신비용을 낮추기 위해 영상을 압축하여 제공한다. 압축된 영상 데이터를 복원하기 위해 딥 러닝을 활용한다. 또한 사용자 인증을 위한 전용 하드웨어를 탑재하여 외부로부터 취약한 정보 보안 문제를 해결한다.
 Tinker Edge R(이하. Tinker 보드)은 인터넷 통신을 위한 LTE 라우터와 딥 러닝 연산을 가속화하기 위한 NPU(Neural Processing Unit)가 탑재되어 있다. 
 Raspbery PI 4B(이하. RPI4B 보드)는 시스템 내의 무결성과 보안문제를 해결하기 위한 전용 하드웨어다. 서비스 접근 권한을 인가하기 위해 사용자의 얼굴을 식별한다.

## 표 1 시스템 구상도
![이미지당!](/assets/img/post/2022-11-28-system-architecture.png)


## 하드웨어 설계
기존 노트북 제품과 동일한 사용자 경험을 제공하기 위해 노트북 하우징에 구현하였다. 따라서 Tinker 보드와 RPI4B 보드, 충방전 회로, 인터넷 통신 라우터, 그 외 다양한 내부 회로를 노트북 하판에 탑재하기 위해 설계 및 제작하였다.
주 전원 공급을 Tinker 보드에 인가한 뒤, GPIO 핀을 통해 RPI4B와, 디스플레이에 전력을 분배한다. 또한 디스플레이는 각 보드와 HDMI 케이블과 연결하였으며, 카메라는 Flex 케이블로 RPI4B에 연결하였다.

## 소프트웨어 설계
 서버와 사용자 단말기 간 통신을 통해 GUI를 제공받기 위해 VNC를 활용하였으며, 통신비용을 최소화하기 위해 이미지 해상도를 축소하였다. 추후 12월에 축소된 해상도를 복구하기 위해 MVideoSR(2022년 VSR 논문)의 논문을 참고하여 클라우드 노트북에 적합한 모델을 생성 및 학습할 예정이다.
보안 프로그램은 카메라에서 발생된 영상 데이터를 기반으로 dlib 라이브러리의 기술을 활용하여 사용자를 식별한 뒤 서버로부터 토큰을 발급 받아 서비스를 인가 받는다.

# 기대효과 및 활용 방안  
컴퓨터의 노후화로 인한 운영효율의 문제를 해결할 수 있다. 또한 클라우드 서비스를 노트북과 통합하여 제공하므로 업무 공간과 시간에 종속적인 문제를 해결할 수 있다.
네트워크 기반의 컴퓨터라는 점에서 다수의 사용자를 원격으로 통제와 제어에 적합하다. 시스템의 통제를 통하여 정보 보안과 외부로부터의 해킹을 원천적으로 방지할 수 있다.  따라서 보안이 중요한 기업이나, 시스템의 통제가 필요한 학교나, 공장에서 적극적인 활용이 가능할 것이라 예상한다.

# 발표용 포스터

![이미지당!](/assets/img/post/2022-11-28-posts.png)
