---
layout: post
title: 자동 근태 확인을 위한 자동화 시스템 구축   
author: piorosen
categories: [Blogging, Develop]
tags: [automate, ci, github-action, absenteeism, tardiness, ftp]
hide_title: false
---

# 개요

교수님의 회사에서 인턴을 수행하면서, 첫 번째의 업무가 연구과제에 참여중인 학생을 인솔하여 프로젝트를 완수하는 것이였다. 업무 중에서 온라인 오픈 마켓을 구현하기 위해, 그리고 빠른 개발을 하기 위해서 새로이 개발하는 것이 아닌, 이미 어느정도 완료가 된 솔루션을 구매하여 추가적인 기능을 만드는것으로 진행하였다. 

처음에는 연구생이 직접 쇼핑몰을 리액트나, 뷰를 통해서 구현하고자 하였었다. 하지만 작년에 수행했던 "족민의 달배"에서 겪었던 개발 기간의 촉박함과 개발 실력 부족으로 인하여 어려움을 겪었기에 설득하였다.
결과적으로 OpenCart, 그누보드, 워드프레스, 그 외 기타 솔루션을 비교 대상으로 진행하였고, 그누보드에 있는 영카트를 사용하기로 결정하였다. 결정하게된 계기는 첫번째로 국내에서 개발하여, 국내 사정에 맞게 개발이 되어 있었던 내용이 가장 크게 작용하였다.

우선, 개발 기간은 3월 부터 6월까지 정해져있었으며, 3월 부터 5월 기간 동안 진행하면서 많은 어려움이 있었다. 대표적으로 시험 기간, 기초 지식 공유(Git, Docker, XAMPP, 라이브러리 사용법 등), 솔루션 구매에 많은 시간이 투자가 되었다.

# 요약

본디의 목적은 FTP 서버에 파일을 업로드하여 코드 관리 및 배포를 하였다. 그래서 이를 조금 더 안정적으로 형상 관리하기 위해 개발이 되었다. 즉, 자동 근태 관리가 목적이 아닌, Git과 컨테이너에 대한 개념이 부족하여 빠른 시간 내에 성과가 필요하였다. 

우선, 사용중인 그누보드의 영카트는 LGPL 라이센스를 차용하고 있으므로, 코드 공개가 필수불가결이였다. 그래서 조금 마음편하게 Github Action을 사용할 수 있었다. (Private인 경우 1달에 30분이 최대이다.)

# 동작 원리

- KST 기준으로 9시에 Cron 이벤트를 발생시킴.
- FTP 서버에 있는 모든 파일을 다운로드 함.
- 깃 코드 커밋(현재 시간 기준)과 푸시

# 코드 

[레포지토리](https://github.com/eunjae-farm/youngcart5/)
[Github Action 코드](https://github.com/eunjae-farm/youngcart5/blob/master/.github/workflows/sync.yml)

# 결과 이미지

![](/assets/img/post/2023-06-10-01.png)

# 결론

Cafe24에서 보안정책상 해외에서 접근 할 경우 방화벽에서 막히는 문제가 있다. 이 때문에 환경설정하는게 오려 걸렸다.. 속상...
